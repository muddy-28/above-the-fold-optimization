!function(e,n){if(n.offline=function(){return{then:function(){}}},"serviceWorker"in e.navigator&&n[6]&&n[6][0]){var t=e.document,r=n[6];if(r[3]){var o,a=function(){n[11](function(){if(o!==navigator.onLine&&t.body){if(navigator.onLine){if(void 0===o)return;t.body.classList.remove("offline")}else t.body.classList.add("offline");o=!!navigator.onLine}})};e.addEventListener("online",a),e.addEventListener("offline",a),a()}var i=function(){navigator.serviceWorker.controller.postMessage([1,n[6][2],n[6][4],n[6][5]])};navigator.serviceWorker.ready.then(function(){navigator.serviceWorker.controller?i():navigator.serviceWorker.addEventListener("controllerchange",function(){i()})}),r[6]&&navigator.serviceWorker.register(r[0],{scope:r[1]}).then(function(e){return new Promise(function(n,t){e.installing?e.installing.addEventListener("statechange",function(e){"installed"==e.target.state?n():"redundant"==e.target.state&&t()}):n()})}).catch(function(e){throw e}),navigator.serviceWorker.addEventListener("message",function(e){if(e&&e.data&&e.data instanceof Array&&2===e.data[0]){if(!t.body)return;var e=new CustomEvent("sw-update",{detail:{url:e.data[1]}});t.body.dispatchEvent(e)}});var s=function(e,n){if(navigator.serviceWorker.controller){var t=new MessageChannel;t.port1.onmessage=function(e){e.data&&e.data.error||n(e.data.status)},navigator.serviceWorker.controller.postMessage([2,e],[t.port2])}else navigator.serviceWorker.ready.then(function(){s(e,n)})};n.offline=function(e){return new Promise(function(n){s(e,n)}).catch(function(e){})}}}(window,window.Abtf);