!function(d,b){if("serviceWorker"in d.navigator&&b[6]&&b[6][0]){var c=d.document,e=b[6];if(e[3]){var f,g=function(){b[10](function(){if(f!==navigator.onLine&&c.body){if(navigator.onLine){if(void 0===f)return;console.info("Abtf.offline() \u27a4 connection restored");c.body.classList.remove("offline")}else console.warn("Abtf.offline() \u27a4 connection offline"),c.body.classList.add("offline");f=!!navigator.onLine}})};d.addEventListener("online",g);d.addEventListener("offline",g);g()}var h=function(){navigator.serviceWorker.controller.postMessage([1,
b[6][2],b[6][4],b[6][5]])};navigator.serviceWorker.ready.then(function(){navigator.serviceWorker.controller?h():navigator.serviceWorker.addEventListener("controllerchange",function(){h()})});navigator.serviceWorker.register(e[0],{scope:e[1]}).then(function(a){return new Promise(function(b,c){a.installing?a.installing.addEventListener("statechange",function(a){"installed"==a.target.state?b():"redundant"==a.target.state&&c()}):b()})}).then(function(){console.info("Abtf.pwa() \u27a4 service worker loaded")})["catch"](function(a){throw a;
});navigator.serviceWorker.addEventListener("message",function(a){a&&a.data&&a.data instanceof Array&&2===a.data[0]&&c.body&&(a=new CustomEvent("sw-update",{detail:{url:a.data[1]}}),c.body.dispatchEvent(a))});var k=function(a){navigator.serviceWorker.controller?navigator.serviceWorker.controller.postMessage([2,a]):navigator.serviceWorker.ready.then(function(){k(a)})};b.offline=function(a){k(a)}}}(window,window.Abtf);
