!function(n,l,u){function F(a,e,c){caches.open(q).then(function(b){var d={};e.headers.forEach(function(a,b){d[b]=a});d["x-abtf-sw"]=m();c&&c.max_age&&(d["x-abtf-sw-expire"]=c.max_age);e.blob().then(function(f){f=new Response(f,{status:e.status,statusText:e.statusText,headers:d});b.put(a,f)})})}function D(a){a&&("string"==typeof a&&(a=new Request(a,{mode:"no-cors"})),r(a).then(function(e){return e||p(a,{conditions:null})}))}function r(a){return caches.open(q).then(function(e){return e.match(a)})}function y(a,
e){return a=new Request(a),r(a).then(function(a){return a?a.blob().then(function(b){return new Response(b,{status:503,statusText:"Offline",headers:a.headers})}):l(e)["catch"](function(a){throw a;})})}function G(a,e,c,b){var d=c.headers.get("etag"),f=c.headers.get("last-modified");d||f?(c=new Request(a.url,{method:"HEAD",headers:a.headers,mode:"no-cors"}),l(c).then(function(h){var c=!1,g=h.headers.get("etag");h=h.headers.get("last-modified");return(g&&g!==d?c=!0:h&&h!==f&&(c=!0),c)?(c=p(a,e),b&&(c=
c.then(b)),c):null})["catch"](function(){var d=p(a,e);return b&&(d=d.then(b)),d})):(c=p(a,e),b&&(c=c.then(b)))}function p(a,e,c){return l(a).then(function(b){if(b.ok&&400>b.status&&e){var d=!0;e.conditions&&e.conditions.forEach(function(f){if(d)switch(f.type){case "url":f.regex?(e=v(f.pattern))?(g=e.test(a.url),f.not?g&&(d=!1):g||(d=!1)):d=!1:(g=-1!==a.url.indexOf(f.pattern),f.not?g&&(d=!1):g||(d=!1));break;case "header":var c=b.headers.get(f.name);if(c)if(f.regex){var e=v(f.pattern);e?(g=e.test(c),
f.not?g&&(d=!1):g||(d=!1)):d=!1}else if("object"==typeof f.pattern)if(f.pattern.operator)if(c=parseFloat(c),e=parseFloat(f.pattern.value),isNaN(c)||isNaN(e))d=!1;else{switch(f.pattern.operator){case "<":g=c<e;break;case ">":g=c>e;break;case "=":var g=c===e;break;default:d=!1}d&&(f.not?g&&(d=!1):g||(d=!1))}else d=!1;else-1===c.indexOf(f.pattern)&&(d=!1);else d=!1}});d&&F(a,b.clone(),e)}return b})["catch"](function(b){return c?c(a,null,b):null})}function E(){z||(!A||A<m()-10)&&(z=!0,A=m(),caches.keys().then(function(a){return a&&
0!==a.length?Promise.all(a.map(function(a){if(0!==a.indexOf(q))return caches["delete"](a);caches.open(a).then(function(a){a.keys().then(function(b){if(!(b.length<w)){var d=[],f=[],c=[];return b.forEach(function(b){f.push(b);c.push(a.match(b))}),Promise.all(c).then(function(b){var c=m();b.forEach(function(b,e){if(b&&b.headers){var h=b.headers.get("x-abtf-sw");if(h){var g=b.headers.get("x-abtf-sw-expire");if(g&&h&&h<m()-g)return void a["delete"](f[e])}else h=c;!1!==d&&d.push({t:h,r:f[e]})}});d&&d.length>
w&&(d.sort(function(a,b){return a.t>b.t?-1:a.t<b.t?1:0}),d.slice(w).forEach(function(b){a["delete"](b.r)}))})}})})})).then(function(){z=!1}):Promise.resolve()}))}function v(a){if(a=a.match(H)){try{var e=new RegExp(a[1],a[2])}catch(c){}return e||!1}}function m(){return Math.round(Date.now()/1E3)}function x(){return l("./abtf-pwa-config.json",{mode:"no-cors"}).then(function(a){if(a&&a.ok&&400>a.status)return a.json().then(function(a){if(a){a instanceof Array&&(a={policy:a});a.policy&&(k=a.policy,t=
m());var c=[];a.policy&&a.policy.forEach(function(a){a.offline&&-1===c.indexOf(a.offline)&&c.push(a.offline)});a.preload&&a.preload.forEach(function(a){-1===c.indexOf(a)&&c.push(a)});c.forEach(function(a){D(a)})}});throw k=!1,Error("service worker config not found: ./abtf-pwa-config.json");})["catch"](function(a){throw k=!1,a;})}function B(a){return(new Promise(function(e,c){if(k&&e(k),!k||!t||a&&a>t){var b=!k;x().then(function(){b&&(k?e(k):c())})["catch"](function(){b&&c()})}else if(t<m()-300){var d=
new Request("./abtf-pwa-config.json",{method:"HEAD",mode:"no-cors"});l(d).then(function(a){var b=!0;a&&a.ok&&(a=a.headers.get("last-modified"))&&a<=t&&(b=!1);b&&x()})["catch"](function(){x()})}}))["catch"](function(a){throw a;})}var q,k=!1,t=!1,w=1E3;u.prototype.add||(u.prototype.add=function(a){return this.addAll([a])});u.prototype.addAll||(u.prototype.addAll=function(a){function e(a){this.name="NetworkError";this.code=19;this.message=a}var c=this;return e.prototype=Object.create(Error.prototype),
Promise.resolve().then(function(){if(1>arguments.length)throw new TypeError;return a=a.map(function(a){return a instanceof Request?a:String(a)}),Promise.all(a.map(function(a){"string"==typeof a&&(a=new Request(a));var b=(new URL(a.url)).protocol;if("http:"!==b&&"https:"!==b)throw new e("Invalid scheme");return l(a.clone())["catch"](function(a){throw a;})}))}).then(function(b){return Promise.all(b.map(function(b,f){return c.put(a[f],b)}))}).then(function(){})});CacheStorage.prototype.match||(CacheStorage.prototype.match=
function(a,e){var c=this;return this.keys().then(function(b){var d;return b.reduce(function(b,h){return b.then(function(){return d||c.open(h).then(function(b){return b.match(a,e)}).then(function(a){return d=a})})},Promise.resolve())})});n.addEventListener("install",function(a){a.waitUntil(x().then(function(){n.skipWaiting()})["catch"](function(){n.skipWaiting()}))});n.addEventListener("activate",function(a){a.waitUntil(n.clients.claim())});var C,H=/^\/(.*)\/([gimuy]+)?$/,A=!1,z=!1;n.addEventListener("fetch",
function(a){if("GET"===a.request.method){var e=!1;if(["wp-admin/","wp-login."].forEach(function(c){e||(c=new RegExp("^([^/]+)?//"+n.location.host+"(:[0-9]+)?/"+c),(c.test(a.request.url)||a.request.referrer&&c.test(a.request.referrer))&&(e=!0))}),!(e||a.request.url.match(/\&preview=true/)||a.request.url.match(/\&preview_nonce=/))){if(k&&q)return a.respondWith(B().then(function(c){if(!c||0===c.length)return l(a.request)["catch"](function(a){throw a;});if(C)try{clearTimeout(C)}catch(d){}C=setTimeout(E,
500);var b=!1;if(c.forEach(function(d){if(!b&&d.match&&0!==d.match.length){var c=!0;d.match.forEach(function(b){if(c)switch(b.type){case "url":if(b.regex)(e=v(b.pattern))?(f=e.test(a.request.url),b.not?f&&(c=!1):f||(c=!1)):c=!1;else if(b.pattern instanceof Array){var d=!1;b.pattern.forEach(function(b){d||-1!==a.request.url.indexOf(b)&&(d=!0)});b.not?d&&(c=!1):d||(c=!1)}else f=-1!==a.request.url.indexOf(b.pattern),b.not?f&&(c=!1):f||(c=!1);break;case "header":switch(b.name.toLowerCase()){case "referer":case "referrer":f=
a.request.referrer;break;default:f=a.request.headers.get(b.name)}if(f)if(b.regex){var e=v(b.pattern);e?(f=e.test(f),b.not?f&&(c=!1):f||(c=!1)):c=!1}else{var f=-1!==f.indexOf(b.pattern);b.not?f&&(c=!1):f||(c=!1)}else b.not||(c=!1)}});c&&(b=d)}}),!b)return l(a.request)["catch"](function(a){throw a;});switch(b.strategy){case "cache":return r(a.request).then(function(c){if(c&&b.cache.max_age&&c.headers.get("x-abtf-sw")<m()-b.cache.max_age&&(c=!1),c){var d=!0,e=b.cache.update_interval?!isNaN(parseInt(b.cache.update_interval))&&
parseInt(b.cache.update_interval):!1;if(e){var k=c.headers.get("x-abtf-sw");k&&parseInt(k)>m()-e&&(d=!1)}return d&&function(a,c){setTimeout(function(){var d;if(b.cache.head_update&&(d=function(){clients.matchAll().then(function(b){b.forEach(function(b){b.postMessage([2,a.url])})})}),b.cache.head_update)G(a,b.cache,c,d);else{var e=p(a,b.cache);d&&e.then(d)}},10)}(a.request.clone(),c.clone()),c}return p(a.request,b.cache,function(c,d){return b.offline?y(b.offline,c.clone()):d||l(a.request.clone())["catch"](function(a){throw a;
})})});case "event":return r(a.request).then(function(c){return c&&b.cache.max_age&&c.headers.get("x-abtf-sw")<m()-b.cache.max_age&&(c=!1),c||p(a.request,null,function(c,d){return b.offline?y(b.offline,c.clone()):d||l(a.request)["catch"](function(a){throw a;})})});default:return p(a.request,b.cache,function(c,e){return r(c).then(function(d){return d||(b.offline?y(b.offline,c.clone()):e||l(a.request)["catch"](function(a){throw a;}))})})}}));B()}}});n.addEventListener("message",function(a){if(a&&a.data&&
a.data instanceof Array){if(1===a.data[0]){a.data[1]&&!isNaN(parseInt(a.data[1]))&&B(parseInt(a.data[1]));a.data[3]&&!isNaN(parseInt(a.data[3]))&&(w=parseInt(a.data[3]));var e="abtf:"+(a.data[2]?a.data[2]+":":"");e!==q&&(q=e);E()}if(2===a.data[0]&&a.data[1]){var c;"string"==typeof a.data[1]||a.data[1]instanceof Request?c=[a.data[1]]:a.data[1]instanceof Array&&(c=a.data[1]);c&&c.forEach(function(a){D(a)})}}})}(self,self.fetch,Cache);
